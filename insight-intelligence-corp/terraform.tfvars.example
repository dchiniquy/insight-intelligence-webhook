# Copy this file to terraform.tfvars and fill in your values

aws_region = "us-west-2"
project_name = "insight-intelligence-corp"
environment = "dev"

# AWS Secrets Manager secret name containing API keys
# The secret should contain JSON with keys: "VAPI-API-Key" and "Twilio-Auth-Token"
secrets_name = "insight-intelligence-corp-secrets"

# DEPRECATED: Use AWS Secrets Manager instead of these variables
# These are kept for backward compatibility but will be ignored if secrets_name is provided
vapi_api_key = "your-vapi-api-key-here"
twilio_auth_token = "your-twilio-auth-token-here"

# non secret variables
vapi_endpoint = "https://api.vapi.ai"
vapi_assistant_id = "your-vapi-assistant-id-here"

# Phone routing configuration
phone_routing_enabled = true

# JSON string mapping incoming numbers to routing configuration
# Two routing options:
# 1. Direct to VAPI: Only specify vapiAssistantId (no targetNumber)
# 2. Forward first, then VAPI: Include targetNumber for forwarding
phone_routing_map = jsonencode({
  # Main business line - goes directly to VAPI (no forwarding)
  "+14805767537" = {
    vapiAssistantId = "2b22c86f-99d7-4922-84f6-332f95998403"
    description = "Main business line → Direct to VAPI"
  }
  
  # Owner's personal line - forwards to mobile first, then VAPI on no answer
  "+15551234567" = {
    targetNumber = "+15034688103"
    requiresAnswer = true
    maxRingTime = 30000
    vapiAssistantId = "2b22c86f-99d7-4922-84f6-332f95998403"
    description = "Owner direct line → Mobile then VAPI"
  }
  
  # Support line - forwards to office number, then VAPI
  "+15559876543" = {
    targetNumber = "+19876543210" 
    requiresAnswer = true
    maxRingTime = 25000
    vapiAssistantId = "support-assistant-id"
    description = "Support line → Office then VAPI"
  }
  
  # Sales line - direct to specialized sales VAPI assistant
  "+15557891234" = {
    vapiAssistantId = "sales-assistant-id"
    description = "Sales line → Direct to Sales VAPI"
  }
})

default_forward_timeout = 30
vapi_fallback_enabled = true

tags = {
  Project     = "insight-intelligence-corp"
  Environment = "dev"
  ManagedBy   = "terraform"
}